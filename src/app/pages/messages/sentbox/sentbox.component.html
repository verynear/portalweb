<ngb-pagination *ngIf="!loading" [collectionSize]="totalItems" [pageSize]="itemsPerPage" [(page)]="page" [maxSize]="3" class="float-right"></ngb-pagination>

<section class="inbox" *ngIf="!loading">
	<div class="table">
		<table appSortableTable class="table table-hover" (sorted)="onSorted($event)">
			<thead class="thead-light">
					<th class="width-25"> 
						<app-th disable="true">
							<p-checkbox name="groupname" value="val2" [(ngModel)]="checkAll" binary="true" (click)="selectAllMessages(checkAll)"></p-checkbox>
						</app-th>
					</th>
					<th class="width-250">
						<app-th columnName="id" displayName="Recipient"></app-th>
					</th>
					<th class="width-150">
					</th>
					<th class="min-width-100">
						<app-th columnName="message" displayName="Subject"></app-th>
					</th>
					<th class="text-right" style="padding-left:50px;">
						<app-th columnName="createDate" displayName="Date"></app-th>
					</th>
			<tbody> 
				<tr *ngFor='let message of messages | slice:(page-1)*itemsPerPage:itemsPerPage' (click)="openMessage(message.id)">
					<td>
						<ul class="list-inline m-0">
						  <li class="list-inline-item">
							<p-checkbox name="groupname" value="val2" [(ngModel)]="message.selected" binary="true"></p-checkbox>
						  </li>
						</ul>
					</td>
					<td style="font-size: 12px; text-overflow: ellipsis;"> 
						<span> To: </span>
						<!-- <span *ngFor='let recipient of message.alertRecipients; let i=index; let isLast=last'>
							<span> {{recipient.rentalSiteBuildingUnit.address1}}<span *ngIf="i < 2 && !isLast">, </span>
							</span>
						</span> -->

						<!-- <span *ngIf="message.alertRecipients.length"> ({{message.alertRecipients.length}}) </span> -->

					</td> 
					<td>
						<button class="btn btn-sm btn-default sentType previewTitle float-right">Get Report</button>
						<!-- <button [ngClass]="message.alertType" class="btn btn-sm btn-default previewTitle sentType float-right">
				
							<span *ngIf="message.alertType==='SITE'">Community</span>
							<span *ngIf="message.alertType!='SITE'">{{message.alertType}}</span>
				
						</button> -->

					</td>

			
					<td class="min-width-100" style="padding-right: 20px">
						<span class="previewTitle"> {{message.subject}} </span> 
						<span class="previewMessage">- {{message.message}} </span> 
					</td> 
					<td class="text-right" style="padding-left: 50px">
						<!-- <button class="btn btn-sm btn-primary float-right sentType">View Report</button> -->
						<span>{{message.createDate | date:'mediumDate' }} </span>
					</td>
				</tr>				               
			</tbody>
		</table>
	</div>
</section>     

<ngb-pagination *ngIf="!loading" [collectionSize]="totalItems" [pageSize]="itemsPerPage" [(page)]="page" [maxSize]="3" class="float-right"></ngb-pagination>
              
<p-progressSpinner class="spinner" *ngIf="loading" [style]="{width: '75px', height: '75px'}" strokeWidth="8" animationDuration="1s" mode="indeterminate"></p-progressSpinner>


<!-- <section class="inbox">
 <div class="table-responsive">
		<table class="table table-striped table-bordered table-hover" style="overflow-x: hidden">
			<tbody>
				<tr onclick="window.location='message.html';">
					<td>
						<ul class="list-inline m-0">
							<li class="list-inline-item"><input type="checkbox"></li>
							<li class="list-inline-item"><i class="fa fa-star-o"></i></li>
						</ul>
					</td>
					<td class="nowrap">John Smith</td>
					<td class="nowrap">Lorem ipsum dolor sit amet, consectetur adipiscing elit...</td>
					<td class="nowrap">12/27 8:00pm <i class="fa fa-check text-success"></i></td>
					<td class="nowrap">12/27 8:30pm <i class="fa fa-check text-success"></i></td>
				</tr>
				<tr>
					<td class="nowrap">
						<ul class="list-inline m-0">
							<li class="list-inline-item"><input type="checkbox"></li>
							<li class="list-inline-item"><i class="fa fa-star-o"></i></li>
						</ul>
					</td>
					<td class="nowrap">Mary Doe</td>
					<td class="nowrap">Lorem ipsum dolor sit amet, consectetur adipiscing elit...</td>
					<td class="nowrap">12/27 8:00pm <i class="fa fa-check text-success"></i></td>
					<td class="nowrap">12/27 8:30pm <i class="fa fa-check text-success"></i></td>
				</tr>
			</tbody>
		</table>
	</div>
</section> -->