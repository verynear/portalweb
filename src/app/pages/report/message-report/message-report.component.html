<div id="main">
  <!-- Main Content Area -->
  <div class="main-content">
    <div class="container-fluid">
      
      <div class="row">
        <div class="col-md-9">
          <h1>Message Sent</h1>
          <h5>{{message?.subject}}<br><small>{{message?.createDate | date }}</small></h5>
          <span [innerHTML]="message?.message | safeHtml"></span>
          <hr>
        </div>
      </div>
      
      <form>				
        
        <div *ngIf="!reportExists && !loading" class="row">
          <div class="col-md-12">
            <h2> There is no report for this message, or the message does not exist. </h2> 
          </div>
        </div>

        <div *ngIf="reportExists && !loading" class="row">
          <!-- Code for Buildings, to be added in future. -->
          <!-- 
              <div class="col-md-3">
            <section>
              <div class="form-group">
                <label class="sr-only" for="inlineFormInputGroup">Search</label>
                  <div class="input-group">
                  <input type="search" class="form-control form-control-sm" id="inlineFormInputGroup" placeholder="Search">
                  <div class="input-group-addon"><i class="fa fa-search"></i></div>
                </div>
              </div>
            </section>

   
            <section>
              <div class="btn-group-vertical btn-block nav-filter">
                <a href="#" class="btn btn-primary"><span class="badge badge-warning">999</span><i class="fa fa-group"></i> Community</a>
                
                <a *ngFor="let building of buildings" href="#" class="btn btn-default">
                  <i class="fa fa-building"></i> 
                  {{building.address1}}
                </a>
              </div>
            </section>
          </div> -->
          <div  class="col-md-9">

              <div class="d-flex">
                <div class="mr-1">
                  <!--Filter dropdown - multi-select-->
                  <div class="dropdown">
                    <!-- <button class="btn btn-secondary btn-sm dropdown-toggle" type="button" id="dropdownFilter" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      Filter
                    </button> -->
                    <div class="dropdown-menu dropdown-md p-3" aria-labelledby="dropdownFilter">
                      <div class="row">
                        <div class="col-md-6">
                          <div class="dropdown-item">
                            <label class="custom-control custom-checkbox">
                              <input type="checkbox" class="custom-control-input">
                              <span class="custom-control-indicator"></span>
                              <span class="custom-control-description">Read</span>
                            </label>
                          </div>
                          <div class="dropdown-item">
                            <label class="custom-control custom-checkbox">
                              <input type="checkbox" class="custom-control-input">
                              <span class="custom-control-indicator"></span>
                              <span class="custom-control-description">Sent</span>
                            </label>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="dropdown-item">
                            <label class="custom-control custom-checkbox">
                              <input type="checkbox" class="custom-control-input">
                              <span class="custom-control-indicator"></span>
                              <span class="custom-control-description">Unread</span>
                            </label>
                          </div>
                          <div class="dropdown-item">
                            <label class="custom-control custom-checkbox">
                              <input type="checkbox" class="custom-control-input">
                              <span class="custom-control-indicator"></span>
                              <span class="custom-control-description">Starred</span>
                            </label>
                          </div>
                        </div>
                      </div>												
                    </div>
                  </div>
                </div>

              </div>
        

            <section class="message-report">
								<table class="table table table-bordered table-hover">
										<thead>
											<tr>
												<th>Location</th>
												<th>Resident</th>
												<th>Sent Date</th>
												<th>Read Receipt</th>
											</tr>
										</thead>
										<thead class="thead-light">
                      <tr>
                        <th colspan="5">Building: {{message?.messageRecipients[0].rentalSiteBuilding}}</th> 
                        <!-- TODO: Building, if applicable, belongs to entire message. -->
                      </tr>
										</thead>
										<tbody>
											<tr *ngFor="let res of message.messageRecipients">
                        <!-- Location -->
                        <td rowspan="1">{{res.rentalSiteBuildingUnit}}</td>
                        
                         <!-- Resident -->
                        <td>{{res.firstname}} {{res.lastname}}</td>
                        
                         <!-- Sent Date -->
                        <td>
													<ul>
                            <li class="text-muted"><span class="fa fa-check"></span>
                              {{message?.createDate | date:'short' }}
                            </li>
													</ul>
                        </td>
                        
                        <!-- Read Receipt -->
												<td>
													<ul>
                            <li class="text-muted" *ngIf="res.isRead===1">
                              <span class="fa fa-check isRead"></span>
                                {{res.updateDate | date:'short' }}
                            </li>
                            
                            <li *ngIf="res.isRead===0" class="text-muted">
                                <span class="fa fa-times"></span>
                                  <!-- {{message?.createDate | date:'short' }} -->
                                  Not Read
                            </li>

													</ul>
                        </td>
											</tr>
										</tbody>
									</table>
            </section>
          </div>

          <div class="col-md-3">
          </div>
        </div>

      </form>
    </div>
  </div>
  
  <footer>
    <small>&copy; 2018 BetterLeasing</small>
  </footer>
</div>
